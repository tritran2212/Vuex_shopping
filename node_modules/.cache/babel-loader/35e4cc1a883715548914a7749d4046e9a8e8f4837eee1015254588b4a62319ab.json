{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport ApiService from '../../services/ApiService.js';\nexport const namespaced = true;\nexport const state = {\n  all: [],\n  categories: [],\n  status: 'idle',\n  searchQuery: '',\n  selectedCategory: 'all'\n};\nexport const mutations = {\n  SET_PRODUCTS(state, products) {\n    state.all = products;\n  },\n  SET_CATEGORIES(state, categories) {\n    state.categories = categories;\n  },\n  SET_STATUS(state, status) {\n    state.status = status;\n  },\n  SET_SEARCH_QUERY(state, query) {\n    state.searchQuery = query;\n  },\n  SET_SELECTED_CATEGORY(state, category) {\n    state.selectedCategory = category;\n  }\n};\nexport const actions = {\n  async fetchAll({\n    commit\n  }) {\n    commit('SET_STATUS', 'loading');\n    try {\n      const [productsResponse, categoriesResponse] = await Promise.all([ApiService.getProducts(), ApiService.getCategories()]);\n      commit('SET_PRODUCTS', productsResponse.data);\n      commit('SET_CATEGORIES', categoriesResponse.data);\n      commit('SET_STATUS', 'success');\n    } catch (error) {\n      console.error('Loi API ', error);\n      commit('SET_STATUS', 'error');\n    }\n  },\n  updateSearchQuery({\n    commit\n  }, query) {\n    commit('SET_SEARCH_QUERY', query);\n  },\n  updateSelectedCategory({\n    commit\n  }, category) {\n    commit('SET_SELECTED_CATEGORY', category);\n  }\n};\nexport const getters = {\n  filteredProducts: state => {\n    let products = state.all;\n    if (state.selectedCategory !== 'all') {\n      products = products.filter(p => p.category === state.selectedCategory);\n    }\n    if (state.searchQuery) {\n      const query = state.searchQuery.toLowerCase();\n      products = products.filter(p => p.title.toLowerCase().includes(query));\n    }\n    return products;\n  },\n  getProductById: state => id => {\n    return state.all.find(p => p.id === Number(id));\n  }\n};","map":{"version":3,"names":["ApiService","namespaced","state","all","categories","status","searchQuery","selectedCategory","mutations","SET_PRODUCTS","products","SET_CATEGORIES","SET_STATUS","SET_SEARCH_QUERY","query","SET_SELECTED_CATEGORY","category","actions","fetchAll","commit","productsResponse","categoriesResponse","Promise","getProducts","getCategories","data","error","console","updateSearchQuery","updateSelectedCategory","getters","filteredProducts","filter","p","toLowerCase","title","includes","getProductById","id","find","Number"],"sources":["C:/Users/ADMIN/Documents/SourceVue2JS/VueX_SellProduct/sell-product/src/store/modules/products.js"],"sourcesContent":["\r\nimport ApiService from '../../services/ApiService.js';\r\nexport const namespaced = true;\r\n\r\nexport const state = {\r\n    all: [],\r\n    categories: [],\r\n    status: 'idle',\r\n    searchQuery: '',\r\n    selectedCategory: 'all',\r\n};\r\nexport const mutations = {\r\n    SET_PRODUCTS(state, products) {\r\n        state.all = products;\r\n    },\r\n    SET_CATEGORIES(state, categories) {\r\n        state.categories = categories;\r\n    },\r\n    SET_STATUS(state, status) {\r\n        state.status = status;\r\n    },\r\n    SET_SEARCH_QUERY(state, query) {\r\n        state.searchQuery = query;\r\n    },\r\n    SET_SELECTED_CATEGORY(state, category) {\r\n        state.selectedCategory = category;\r\n    },\r\n};\r\n\r\nexport const actions = {\r\n    async fetchAll({ commit }) {\r\n        commit('SET_STATUS', 'loading');\r\n        try {\r\n            const [productsResponse, categoriesResponse] = await Promise.all([\r\n                ApiService.getProducts(),\r\n                ApiService.getCategories(),\r\n            ]);\r\n            commit('SET_PRODUCTS', productsResponse.data);\r\n            commit('SET_CATEGORIES', categoriesResponse.data);\r\n            commit('SET_STATUS', 'success');\r\n        } catch (error) {\r\n            console.error('Loi API ', error);\r\n            commit('SET_STATUS', 'error');\r\n        }\r\n    },\r\n    updateSearchQuery({ commit }, query) {\r\n        commit('SET_SEARCH_QUERY', query);\r\n    },\r\n    updateSelectedCategory({ commit }, category) {\r\n        commit('SET_SELECTED_CATEGORY', category);\r\n    },\r\n};\r\n\r\nexport const getters = {\r\n    filteredProducts: (state) => {\r\n        let products = state.all;\r\n\r\n        if (state.selectedCategory !== 'all') {\r\n            products = products.filter(p => p.category === state.selectedCategory);\r\n        }\r\n        if (state.searchQuery) {\r\n            const query = state.searchQuery.toLowerCase();\r\n            products = products.filter(p => p.title.toLowerCase().includes(query));\r\n        }\r\n        return products;\r\n    },\r\n    getProductById: (state) => (id) => {\r\n        return state.all.find(p => p.id === Number(id));\r\n    },\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}